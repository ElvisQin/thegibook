<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-introduction/shading" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">1.3 物体的表面着色 | TheGIBook</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://thegibook.com/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://thegibook.com/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://thegibook.com/docs/introduction/shading"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="1.3 物体的表面着色 | TheGIBook"><meta data-rh="true" name="description" content="在了解了全局光照应该实现各种物理现象，以及模拟自然光照计算需要的一些基本物理度量之后，从本节开始，我们将开始进入计算机图形学的世界。"><meta data-rh="true" property="og:description" content="在了解了全局光照应该实现各种物理现象，以及模拟自然光照计算需要的一些基本物理度量之后，从本节开始，我们将开始进入计算机图形学的世界。"><link data-rh="true" rel="icon" href="/img/thegibook.jpg"><link data-rh="true" rel="canonical" href="https://thegibook.com/docs/introduction/shading"><link data-rh="true" rel="alternate" href="https://thegibook.com/docs/introduction/shading" hreflang="en"><link data-rh="true" rel="alternate" href="https://thegibook.com/docs/introduction/shading" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="TheGIBook RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="TheGIBook Atom Feed">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.f107caf2.css">
<script src="/assets/js/runtime~main.e09f578a.js" defer="defer"></script>
<script src="/assets/js/main.076aae83.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/thegibook.jpg" alt="全局光照技术：从离线到实时渲染" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/thegibook.jpg" alt="全局光照技术：从离线到实时渲染" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">TheGIBook</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/preface">阅读图书</a><a class="navbar__item navbar__link" href="/blog">博客</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/ElvisQin/thegibook" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/preface">前 言</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/introduction/">1 光与表面的交互</a><button aria-label="Collapse sidebar category &#x27;1 光与表面的交互&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/what-is-gi">1.1 什么是全局光照</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/radiometry">1.2 辐射度量学</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/introduction/shading">1.3 物体的表面着色</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/intro-sampling">1.4 采样和反走样</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/pbr">1.5 基于物理的渲染</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/intro-the-rendering-equation">1.6 渲染方程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/offline-and-rt">1.7 关于离线与实时渲染</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/hardware/">2 并行处理器架构</a><button aria-label="Expand sidebar category &#x27;2 并行处理器架构&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/shading/">4 着色管线</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/monte-carlo/">4 蒙特卡洛方法</a><button aria-label="Expand sidebar category &#x27;4 蒙特卡洛方法&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/path-tracing/">6 路径追踪技术</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/photon-mapping/">7 光子映射</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/mlt/">8 梅特波利斯光照传输</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/radiosity/">9 辐射度方法</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/instant-radiosity/">10 即时辐射度方法</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/precomputed-radiance-transfer/">11 基于预计算的全局光照技术</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/voxel-based-global-illumination/">12 基于体素的全局光照技术</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/distance-field-gi/">13 基于距离场的全局光照技术</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/introduction/"><span itemprop="name">1 光与表面的交互</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">1.3 物体的表面着色</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>1.3 物体的表面着色</h1></header><p>在了解了全局光照应该实现各种物理现象，以及模拟自然光照计算需要的一些基本物理度量之后，从本节开始，我们将开始进入计算机图形学的世界。</p>
<p>正如前言所述，本书除了介绍计算机图形学的一些基本理论知识，另一个重要的目标是试图解释清楚这些理论知识之间的逻辑联系，本节的目标是在没有涉及具体的全局光照方法之前，尝试解释光与物体的交互过程，以及最终怎样被渲染成图像。在本节的末尾，我们仍然会通过这种高层抽象的物体表面着色需求（而不是从基础的数学公式），推导出渲染方程的表达式。然后在第[ref sec<!-- -->:intro-the-rendering-equation<!-- -->]节，将会更详细地解释渲染方程。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="几何光学模型">几何光学模型<a href="#几何光学模型" class="hash-link" aria-label="Direct link to 几何光学模型" title="Direct link to 几何光学模型">​</a></h3>
<p>本节首先介绍光的一些基础物理特征，这些特征是我们模拟真实的光与物体交互的基础，从而能够渲染出更真实的图像。</p>
<p>在电磁学中，有两种模型用于研究光的性质，第一种为物理光学，第二种为几何光学。物理光学（physical optics），又称为波动光学（wave optics），它认为光在介质中以波的形式传播，这种模型可以解释光的衍射和干涉等现象。然而它以光的波长为测量尺寸，这大大超出了计算机图形学的需求。</p>
<p>由于可见光的波长非常短，另一种模型忽略光的波长，即相当于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo>→</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\lambda\to 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal">λ</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">0</span></span></span></span>的极限情况，并证明（感兴趣的读者可以参考书籍[cite b<!-- -->:PrinciplesofOptics<!-- -->]第三章的推导。）在这种近似处理下，光学定律可以用几何学的语言来描述，这种模型称为几何光学（geometric optics），或者称为光线光学（ray optics），因为这种模型下能量可以看作是沿着直线传输。几何光学模型正是被计算机图形学广泛采用的模型。</p>
<p>当然，几何光学模型仍然比较复杂，在计算机图形学中，我们作出了一些简化假设，这虽然限制了一些效果如衍射，但是它处理 起来相对简单，并且满足一般图形学的需求。这些假设包括：</p>
<ul>
<li>物体的表面是绝对光滑（真实世界的物体表面不是绝对光滑的，它的粗糙度介于光的波长和一个像素的尺寸之间，这种粗糙度可以通过下一节介绍的微面元技术实现，它本质上是反射和折射的一种聚合。）（smooth）的。</li>
<li>光仅可以被发射（emitted），反射（reflected）或者传播（transmitted）。</li>
<li>光以无限快的速度沿直线传播。</li>
</ul>
<p>在这些假设下，光的反射由反射定律（law of reflection）决定，即： 给定一条入射光线<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">l</mi></mrow><annotation encoding="application/x-tex">\mathbf{l}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathbf">l</span></span></span></span>和表面法线<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">n</mi></mrow><annotation encoding="application/x-tex">\mathbf{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4444em"></span><span class="mord mathbf">n</span></span></span></span>，反射光和入射光处于同一个平面, 并且反射光与法线之间的夹角大小等于入射光与法线的夹角大小，如图1所示。</p>
<div><div align="center" id="f-intro-Ray-optics-model"><img src="/img/graphics/gi/ray-optics-1.png" width="400"></div><p align="left"><b>图（<!-- -->1<!-- -->）：</b>在几何光学模型中，反射定律和斯涅尔定律决定光的反射和折射</p></div>
<p>当光在传输过程中，介质的折射率（index of refraction）发生变化，则会发生折射（refraction）。当入射 光<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">l</mi></mrow><annotation encoding="application/x-tex">\mathbf{l}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathbf">l</span></span></span></span>从具有折射率为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">n_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span>的介质进入折射率为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">n_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span>的介质时， 其光线传输方向的偏离<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">t</mi></mrow><annotation encoding="application/x-tex">\mathbf{t}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6349em"></span><span class="mord mathbf">t</span></span></span></span>由斯涅尔定律（Snell&#x27;s law）决定，如图1所示，即有：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>n</mi><mn>1</mn></msub><mi>sin</mi><mo>⁡</mo><msub><mi>θ</mi><mn>1</mn></msub><mo>=</mo><msub><mi>n</mi><mn>2</mn></msub><mi>sin</mi><mo>⁡</mo><msub><mi>θ</mi><mn>2</mn></msub><mtext> </mtext></mrow><annotation encoding="application/x-tex">	n_1\sin\theta_1 = n_2\sin\theta_2\ 	</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace"> </span></span></span></span></span>
<p align="right">（式<!-- -->1<!-- -->）</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="光与表面的交互">光与表面的交互<a href="#光与表面的交互" class="hash-link" aria-label="Direct link to 光与表面的交互" title="Direct link to 光与表面的交互">​</a></h3>
<p>为了模拟光学现象以生成真实的数字图像，我们需要构建一套系统，将几何光学模型应用到计算机图形学中。这套系统定义了在图形渲染过程中，光与表面及其他物体的交互。</p>
<p>这个系统工作的过程可以描述如下：</p>
<ul>
<li>光从光源（例如太阳或其他光源）或其他发光体中发射出来。</li>
<li>光与场景中的物体进行交互，部分被反射，部分被吸收并可能经过一定路径传播后沿其他方向从物体表面散射出来。</li>
<li>最后，光被感应器（例如摄像机或者人的眼睛）吸收，形成图像。</li>
</ul>
<p>这个过程涉及三个组件：光源，材质以及摄像机。在接下来的小节中我们将讨论这些组件，以及它们怎样被用在渲染管线中用于渲染图形。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="sec-intro-light-sources">光 源<a href="#sec-intro-light-sources" class="hash-link" aria-label="Direct link to 光 源" title="Direct link to 光 源">​</a></h4>
<p>光源（light sources）发出光并照亮整个场景，此外，在计算机图形学中，光源一般不会反射或吸收其他光照。</p>
<p>现实世界中的光源是很复杂的，它可能沿不同的方向以及光源表面上的不同位置具有不同的分布，在图形学中一般仅使用少数几种简单的光源模型，这几种模型都假设光源的光照分布只随方向而发生变化。这几种模型包括：</p>
<ul>
<li>平行光（directional light）：平行光模拟光从  无限远的地方发射，这意味着所有由它产生的阴影光线都是平行的，因此这种模型是模拟太阳光的理想选择。</li>
<li>点光源（point light）：点光源从一个点向四面八方发出光线，它可以用于模拟如现实世界中的钨丝灯泡发出的光。</li>
<li>聚光灯（spot light）：聚光灯限制点光源发出光线的方向，它通常使用两个圆锥体作为参数，其中内部圆锥体的半径内发出的光线最强，从内部到外部圆锥体半径内光线强度逐渐减至零。</li>
</ul>
<p>以上这些光源发出的光线会在场景中像自然光一样进行传播，即这些光线通过最近点测试计算出光线与哪个物体表面的哪个位置相交，然后根据物体表面的材质属性进行着色计算。除此之外，出于性能考虑，场景中还有另外一些（通常是间接）光不会通过这种方式计算，例如大面积的环境光通常通过贴图的方式计算，这包括天空盒（sky light）以及其他环境光照；而低频率的间接漫反射的光可以通过使用低阶的球谐函数近似表述，然后在GPU中使用快速的卷积（convolution）计算。</p>
<p>对于直接光源，另一个我们最关心的问题是这个光源的光照用什么物理量表示，以及这个物理量怎样参与到光与表面的交互计算之中。</p>
<p>首先，虽然眼睛等感应器接收的是辐射亮度<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal">L</span></span></span></span>，但这是一个五维（三个维度表示位置，两个维度表示方向）的量，太过于复杂，所以在图形学中一般不会直接表示光源的辐射亮度分布。考虑到图形学中大部分直接光源的亮度分布都是只与方向有关，所以辐射强度<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi></mrow><annotation encoding="application/x-tex">I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07847em">I</span></span></span></span>通常用来表示本节提到的几种直接光源的辐射亮度分布。</p>
<p>当然这个方向分布函数不宜太复杂，一般引擎不允许定义具有任意方向分布的光源，例如点光源可能所有方向的辐射强度都相同，聚光灯也是沿着一个圆锥体向外递减。在Unreal Engine 4中，可以对点光源和聚光灯使用一个称为IES[cite m<!-- -->:IESLightProfiles<!-- -->] 的光源配置（light profiles）的配置文件。IES光源配置文件可以以曲线的方式定义光源的光照强度分布，如图2所示。</p>
<div><div align="center" id="f-intro-ies"><img src="/img/figures/intro/IES_01.png" width="20.9%"><img src="/img/figures/intro/IES_02.png" width="21.3%"><img src="/img/figures/intro/IES_03.png" width="24.7%"><img src="/img/figures/intro/IES_04.png" width="29.3%"></div><p align="left"><b>图（<!-- -->2<!-- -->）：</b>在Unreal Engine 4中使用IES光源配置文件定义点光源和聚光灯的光照强度分布 （图片来自[cite m:IESLightProfiles）</p></div>
<p>通过第[ref sec<!-- -->:irradiance<!-- -->]节的内容可知，在计算光与物体表面交互时，表面接收的所有光照使用辐射照度<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi></mrow><annotation encoding="application/x-tex">E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.05764em">E</span></span></span></span>表示，而光源使用辐射强度<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi></mrow><annotation encoding="application/x-tex">I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07847em">I</span></span></span></span>表示，所以这里就需要使用第[ref sec<!-- -->:irradiance<!-- -->]节介绍的的平方反比定律，通过<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi></mrow><annotation encoding="application/x-tex">I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07847em">I</span></span></span></span>来计算<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi></mrow><annotation encoding="application/x-tex">E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.05764em">E</span></span></span></span>，为了方便，这里重新列出该方程如下：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo>=</mo><mfrac><mrow><mi>I</mi><mi>cos</mi><mo>⁡</mo><mi>θ</mi></mrow><msup><mi>r</mi><mn>2</mn></msup></mfrac></mrow><annotation encoding="application/x-tex">	E= \cfrac{I\cos\theta}{r^{2}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.05764em">E</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.276em;vertical-align:-0.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.59em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em"><span style="top:-2.989em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.74em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em">I</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span></span></span></span></span></span></span>
<p align="right">（式<!-- -->2<!-- -->）</p>
<p>虽然<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi></mrow><annotation encoding="application/x-tex">E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.05764em">E</span></span></span></span>随着<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi mathvariant="normal">/</mi><msup><mi>r</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">1/r^{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em"></span><span class="mord">1/</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span>正比增长在物理上是正确的，但是在图形学上通常使用一个不同的函数来描述<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi></mrow><annotation encoding="application/x-tex">E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.05764em">E</span></span></span></span>怎样随着距离的增加而递减。这种函数称为距离递减函数（distance falloff function），由此<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi></mrow><annotation encoding="application/x-tex">E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.05764em">E</span></span></span></span>可以表示为：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo>=</mo><mi>I</mi><mi>cos</mi><mo>⁡</mo><mi>θ</mi><msub><mi>f</mi><mrow><mi mathvariant="normal">d</mi><mi mathvariant="normal">i</mi><mi mathvariant="normal">s</mi><mi mathvariant="normal">t</mi></mrow></msub><mo stretchy="false">(</mo><mi>r</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">	E=I\cos\theta f_{\rm dist}(r)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.05764em">E</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.07847em">I</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">dist</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="mclose">)</span></span></span></span></span>
<p align="right">（式<!-- -->3<!-- -->）</p>
<p>距离递减函数在计算机图形学中被广泛采用，有以下一些原因：首先距离递减函数可以提供更多的控制来达到一些特殊的效果；其次，随着距离的增加，平方反比函数趋近于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">0</span></span></span></span>但却永远不会为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">0</span></span></span></span>，距离递减函数可以通过设定一个最大距离范围，超出这个范围的表面接收的辐射强度为0来大大提高性能；平方反比函数在距离趋近于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">0</span></span></span></span>时趋近于无限大，而距离递减函数可以通过设定一个最大值，避免这种无限大的值出现在着色计算中。</p>
<p>例如以下是Pixar工作室用在电影产品中的距离递减函数[cite a<!-- -->:LightingControlsforComputerCinematography<!-- -->]：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>f</mi><mrow><mi mathvariant="normal">d</mi><mi mathvariant="normal">i</mi><mi mathvariant="normal">s</mi><mi mathvariant="normal">t</mi></mrow></msub><mo stretchy="false">(</mo><mi>d</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>M</mi><msup><mi mathvariant="normal">e</mi><mrow><mi>s</mi><mo stretchy="false">(</mo><mstyle displaystyle="true" scriptlevel="0"><mfrac><mi>d</mi><mi>L</mi></mfrac></mstyle><msup><mo stretchy="false">)</mo><mi>β</mi></msup></mrow></msup><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>d</mi><mo>&lt;</mo><mi>L</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>K</mi><mo stretchy="false">(</mo><mstyle displaystyle="true" scriptlevel="0"><mfrac><mi>L</mi><mi>d</mi></mfrac></mstyle><msup><mo stretchy="false">)</mo><mi>α</mi></msup><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>d</mi><mo>&gt;</mo><mi>L</mi></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">	f_{\rm dist}(d)=\begin{cases}
		M{\rm e}^{s( \cfrac{d}{L})^{\beta}}, &amp; d&lt;L\\
		K( \cfrac{L}{d})^{\alpha}, &amp;d&gt;L
	\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">dist</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">d</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:5.1892em;vertical-align:-2.3446em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-1.9em"><span class="pstrut" style="height:3.15em"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-1.892em"><span class="pstrut" style="height:3.15em"></span><span style="height:0.616em;width:0.8889em"><svg xmlns="http://www.w3.org/2000/svg" width="0.8889em" height="0.616em" style="width:0.8889em" viewBox="0 0 888.89 616" preserveAspectRatio="xMinYMin"><path d="M384 0 H504 V616 H384z M384 0 H504 V616 H384z"></path></svg></span></span><span style="top:-3.15em"><span class="pstrut" style="height:3.15em"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.292em"><span class="pstrut" style="height:3.15em"></span><span style="height:0.616em;width:0.8889em"><svg xmlns="http://www.w3.org/2000/svg" width="0.8889em" height="0.616em" style="width:0.8889em" viewBox="0 0 888.89 616" preserveAspectRatio="xMinYMin"><path d="M384 0 H504 V616 H384z M384 0 H504 V616 H384z"></path></svg></span></span><span style="top:-4.9em"><span class="pstrut" style="height:3.15em"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.8446em"><span style="top:-4.8446em"><span class="pstrut" style="height:4.4813em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">M</span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">e</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:2.4813em"><span style="top:-4.4813em;margin-right:0.05em"><span class="pstrut" style="height:3.6215em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mopen mtight">(</span><span class="mord sizing reset-size3 size6 mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6215em"><span style="top:-2.248em"><span class="pstrut" style="height:3em"></span><span class="mord mtight"><span class="mord mathnormal mtight">L</span></span></span><span style="top:-3.2255em"><span class="pstrut" style="height:3em"></span><span class="frac-line mtight" style="border-bottom-width:0.049em"></span></span><span style="top:-3.7715em"><span class="pstrut" style="height:3em"></span><span class="mord mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.752em"><span></span></span></span></span></span><span></span></span><span class="mclose mtight"><span class="mclose mtight">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.927em"><span style="top:-2.931em;margin-right:0.0714em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05278em">β</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-2.8226em"><span class="pstrut" style="height:4.4813em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">K</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.59em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">d</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.74em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">L</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em">α</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.3446em"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.8446em"><span style="top:-4.8446em"><span class="pstrut" style="height:4.4813em"></span><span class="mord"><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mord mathnormal">L</span></span></span><span style="top:-2.8226em"><span class="pstrut" style="height:4.4813em"></span><span class="mord"><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mord mathnormal">L</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.3446em"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>
<p align="right">（式<!-- -->4<!-- -->）</p>
<p>这个函数在一个特定的距离<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal">L</span></span></span></span>处其值为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">K</span></span></span></span>，在距离小于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal">L</span></span></span></span>时逐步达到最大值<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.10903em">M</span></span></span></span>，递减指数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.0037em">α</span></span></span></span>用于控制当距离大于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal">L</span></span></span></span>时距离递减函数怎样随着距离递减，常数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">s</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi></mrow><annotation encoding="application/x-tex">\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.05278em">β</span></span></span></span>被设定为特定值以保证函数在过渡点处的导数连续：其中<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>≡</mo><mrow><mi mathvariant="normal">l</mi><mi mathvariant="normal">n</mi></mrow><mo stretchy="false">(</mo><mstyle displaystyle="true" scriptlevel="0"><mfrac><mi>K</mi><mi>M</mi></mfrac></mstyle><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">s\equiv {\rm ln}( \cfrac{K}{M})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4637em"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">≡</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.276em;vertical-align:-0.686em"></span><span class="mord"><span class="mord"><span class="mord mathrm">ln</span></span></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.59em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">M</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.74em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">K</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span></span></span><span class="mclose">)</span></span></span></span>，而 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi><mo>≡</mo><mo>−</mo><mstyle displaystyle="true" scriptlevel="0"><mfrac><mi>α</mi><mi>s</mi></mfrac></mstyle></mrow><annotation encoding="application/x-tex">\beta\equiv - \cfrac{\alpha}{s}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.05278em">β</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">≡</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.276em;vertical-align:-0.686em"></span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.59em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">s</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.74em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span></span></span></span></span></span>，如图3所示。</p>
<div><div align="center" id="f:intro-solid-angle"><img src="/img/figures/intro/falloff.png" width="450"></div><p align="left"><b>图3：</b>Pixar采用的距离递减函数，其中当<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo>&lt;</mo><mi>L</mi></mrow><annotation encoding="application/x-tex">d&lt;L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.0391em"></span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal">L</span></span></span></span> 时才有虚线部分，其最大值为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.10903em">M</span></span></span></span> </p></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="sec-intro-materials">材 质<a href="#sec-intro-materials" class="hash-link" aria-label="Direct link to 材 质" title="Direct link to 材 质">​</a></h4>
<p>光与物体表面交互的一切，都是由材质及其属性来决定的，材质决定了每个物体的表面最终呈现出来的是什么颜色。那么材质到底是什么，这个问题需要从两个方面来理解。</p>
<div><div align="center" id="f-intro-mesh"><img src="/img/figures/intro/mesh.jpg" width="400"></div><p align="left"><b>图（<!-- -->4<!-- -->）：</b>一个由三角形网格构成的海豚，网格构成物体的“形”（图片来自Wikipedia）</p></div>
<p>首先，在计算机图形学中， 一个物体的“形”与“色”是完全分开的，物体的形状由一组顶点（vertex）构成的网格（mesh）来定义，如图\ref4所示，而物体的表面着色则由称为材质（material）的东西决定。所以材质通常包含纹理（textures），着色器（shaders）以及其他一些着色方程需要的参数，所有这些数据构成一个对象并被附加到一个物体上，在渲染时这些数据被传输至GPU内存，GPU执行其中的着色器对该物体表面着色，这个过程包括贴图，光照以及其他相关的计算。关于材质的一些重要参数将在下一节讨论。</p>
<p>理解材质的另一方面在于，我们需要了解更多关于物体表面或内部结构的问题。在前面的描述中，都是假设表面是绝对光滑的，在这种情况下，光经过表面时按照反射定律和折射定律进行反射或折射。然而在微观尺度上（计算机图形学中一般不考虑小于波长的原子尺寸，这又称为纳米几何（nanogeometry），在此尺寸下可以观察到光的衍射现象，即光可以绕过障碍物沿非直线方向传播。），这里指微观几何（microgeometry）结构，即小于一个像素但是大于光波长的尺寸，物体表面并不是绝对光滑的，这时虽然在单个光束与表面交互上可以看作该面是光滑的，但是在一个像素尺度上，它却是不光滑的，如图5所示。那么我们如何处理这种复杂的情况？</p>
<div><div align="center" id="f-ntro-microgeometry-1"><img src="/img/figures/intro/ray-optics-3.png" width="400"></div><p align="left"><b>图（<!-- -->5<!-- -->）：</b>在微观尺寸上，每个点向不同的方向反射或折射光照，注意该图反应的其实是一个像素内的微观尺寸</p></div>
<p>由于表面在微观尺寸上是不光滑的，每个比像素更小的点可能沿不同的方向反射或折射光照，这导致对于一个像素点，每条入射光会被反射或（和）折射至多个方向，如图6所示。这等效于是从一个给定的观察方向看，一个像素点可以接受来自多个方向的光照。</p>
<div><div align="center" id="f-intro-multi-rays"><img src="/img/figures/intro/ray-optics-4.png" width="400"></div><p align="left"><b>图（<!-- -->6<!-- -->）：</b>微观结构的粗糙度，导致一个像素点可以将一束像素面积的入射光反射或（和）折射至多个方向</p></div>
<p>对于折射进物体内部的光照会发生什么呢，这取决于物体材质的结构。在计算机图形学中，材质可以分为两大类（自然界中还存在第三类材质，即半导体，但是半导体在渲染场景中很少见。）：金属（metals）和非金属，后者又称为绝缘体（insulator），其中金属立即吸收所有折射的光照。</p>
<p>对于非金属，如果该物体是透明的，如玻璃和水晶，则折射光会在物体内部直线传播，直到遇到该物体另一边的表面后离开物体表面重新回到空气中；对于非透明的物体，由于内部介质的不连续（例如流体，晶体等内部的粒子，泡泡，液滴，瑕疵；有机体表面的粗糙度，细胞；以及衣服布料里的纺织纤维等），折射的光会沿着不同的方向继续反射或者折射，在经历一定的路径之后，这些折射的光部分被重新（可能从原来的位置，也可能从其他位置）发射回到外面，部分可能被吸收。除非该物体是一个完全透明的物体，否则折射的光中总会有部分会发射回到表面外，如图7中的蓝色箭头部分光照，这部分光照可能从不同的位置以不同的方向发射出表面外。值得注意的是，这种由物体内部发射回来的光通常不具有固定的方向性，所以这种反射称为漫散射（scattering）。</p>
<div><div align="center" id="f-intro-refraction"><img src="/img/figures/intro/ray-optics-5.png" width="400"></div><p align="left"><b>图（<!-- -->7<!-- -->）：</b>对于非金属材质，经历一定路径的散射之后，部分折射进表面的光会沿不同的方向重新发射回表面外</p></div>
<p>散射光重新发射回表面外的位置与入射点位置之间距离的分布，取决于该物质表面的属性。如果这个距离小于一个像素的尺寸（即在微观范围中），在着色的时候可以假设其距离为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">0</span></span></span></span>，这种散射称为局部次表面散射（local subsurface scattering）；否则称为全局次表面散射（global subsurface scattering）。在计算机图形学中，这两种现象通常分别使用不同的技术实现。</p>
<p>在计算机图形学中，通常将反射和漫反射这两种不同的光照区分开，分别称为光泽（specular）和漫反射光（在光学中，漫反射（甚至散射本身）也包含一部分由于物体表面的粗糙度形成的直接反射光的一部分，并不全是由折射进表面的光形成。）（diffuse）。其中前者主要由于光在物体表面的直接反射形成，而后者通常由光进入物体表面，经历折射，吸收，多次散射过程之后重新从物体表面散射回表面外的光形成，如图8所示。这样区分的目的也在于由于漫反射光可以接收来自全部方向的光，因此需要对全空间进行积分计算，但是将与方向无关的部分分离出来，则可以使用更简单的方法处理漫反射，关于这些方法将在本章及本书后面介绍。</p>
<div><div align="center" id="f-intro-specular-and-diffuse"><img src="/img/figures/intro/ray-optics-6.png" width="400"></div><p align="left"><b>图（<!-- -->8<!-- -->）：</b>光与物体表面交互后反射的光可以分为光泽和  漫反射光两部分</p></div>
<p>对于光泽部分，这些反射光所处范围的大小取决于表面的粗糙度（下一节会讨论），表面越粗糙，则反射的范围越大，物体表面越模糊；反之表面越光滑，反射的范围越小，则表面越光亮，如图9所示。</p>
<div><div align="center" id="f-intro-roughness"><img src="/img/figures//intro/ray-optics-2.jpg" width="500"></div><p align="left"><b>图（<!-- -->9<!-- -->）：</b>反射光的范围大小取决于物体表面的粗糙度，物体表面越粗糙，它越能接收更大范围的光照</p></div>
<p>由于材质决定物体表面的着色，所以上述所有这些现象都需要在材质中进行表述，对于如漫反射率等这种与观察方向无关的参数，它们可以通过纹理的方式存储并关联到材质中；而对于与方向有关的这些反射特征，它们可能以函数的形式存在于着色器代码中，例如上述关于表面的光泽反射特征可以通过本章后面介绍的微面元理论来进行表述。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="sec-intro-sensor">感应器<a href="#sec-intro-sensor" class="hash-link" aria-label="Direct link to 感应器" title="Direct link to 感应器">​</a></h4>
<p>当光从光源发射出，并在场景中与物体表面进行多次交互后，最终其中的一部分会进入图像传感器形成图像。由于图像传感器接收的是辐射亮度<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal">L</span></span></span></span>（其值由渲染管线中的像素着色器计算出），并且数字图像以一定的分辨率存储图像信息，所以可以使用图10来表示计算机图形学中的图形传感器成像系统，这里<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.13889em">P</span></span></span></span>点就是场景中的“摄像机”对象，摄像机朝着虚拟屏幕中的每个像素的方向发射一条射线，称为观察矢量（view vector）<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">v</mi></mrow><annotation encoding="application/x-tex">\mathbf{v}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4444em"></span><span class="mord mathbf" style="margin-right:0.01597em">v</span></span></span></span>（它也是着色器计算中渲染方程的出射方向），场景中所有沿<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">v</mi></mrow><annotation encoding="application/x-tex">\mathbf{v}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4444em"></span><span class="mord mathbf" style="margin-right:0.01597em">v</span></span></span></span>反方向传播的光线就会进入摄像机。</p>
<div><div align="center" id="f-intro-camera"><img src="/img/figures/intro/camera.png" width="500"></div><p align="left"><b>图10：</b>理想的计算机图形学图像传感器模型，其中<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">p</mi></mrow><annotation encoding="application/x-tex">{\rm p}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord"><span class="mord mathrm">p</span></span></span></span></span></span>为摄像机或观察点，中间的点阵为屏幕的像素网格，左边的球体为场景中的物体</p></div>
<p>然而事情并不像这么简单，对于给定分辨率的“屏幕”，它的每一个像素点总是有一个尺寸大小的。而对于每个像素，我们通常取其从摄像机发出穿过该像素中心点的方向对场景进行采样，如果一个像素的中心点被三角形覆盖，则整个像素区域被填充一个单一的颜色，否则即使该像素有小部分区域被覆盖，它也不会被填充任何颜色，这使得三角形的边缘出现锯齿（jaggies），如图11所示。这种锯齿是由于采样不足导致的一种走样（aliasing）现象,而尝试避免或者减少这种走样的技术称为反走样（anti-aliasing）技术。</p>
<div><div align="center" id="f-intro-aliasing-triangle"><img src="/img/figures/intro/aliasing-triangle.png" width="500"></div><p align="left"><b>图（<!-- -->11<!-- -->）：</b>光栅化技术通过测试几何图形对像素中心点的覆盖来决定是否对该像素点着色，这造成在几何图形的边缘出现锯齿的现象</p></div>
<p>用数学理论来解释和解决这种缺陷，涉及数字信号处理的一些理论，如采样，重建，走样等。这些技术的学习不仅有助于理解渲染过程中数字图像的生成过程，它也是计算机图形学的重点内容，例如着色器中对纹理的采样，后处理中很多都涉及走样技术等等。接下来，我们将讨论关于数字信号处理的一些理论，并解释这些理论怎样被用在计算机图形学中。</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ElvisQin/thegibook/edit/master/website/docs/1-introduction/3-shading.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-01-05T03:42:08.000Z">Jan 5, 2024</time></b> by <b>Chunlin Qin</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/introduction/radiometry"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">1.2 辐射度量学</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/introduction/intro-sampling"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">1.4 采样和反走样</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#几何光学模型" class="table-of-contents__link toc-highlight">几何光学模型</a></li><li><a href="#光与表面的交互" class="table-of-contents__link toc-highlight">光与表面的交互</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2018-2024 TheGIBook & 秦春林. All rights reserved.</div></div></div></footer></div>
</body>
</html>