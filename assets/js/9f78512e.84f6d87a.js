"use strict";(self.webpackChunkthegibook=self.webpackChunkthegibook||[]).push([[1825],{299:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>d,toc:()=>c});var i=n(5893),s=n(1151);const r={title:"3.3 \u5149\u6e90\u5206\u914d"},a=void 0,d={id:"shading/light-assignment/index",title:"3.3 \u5149\u6e90\u5206\u914d",description:"\u9488\u5bf9\u5ef6\u8fdf\u7740\u8272\u65b9\u6cd5\u7684\u9ad8\u5e26\u5bbd\u5360\u7528\uff0c\u6211\u4eec\u5728\u4e0a\u4e00\u8282\u4e2d\u4ecb\u7ecd\u4e86\u7b2c\u4e00\u79cd\u65b9\u6cd5\uff0c\u5373\u901a\u8fc7\u51cf\u5c11\u5149\u6e90\u5faa\u73af\u5185\u6bcf\u4e2a\u50cf\u7d20\u8bfb\u5199G-buffer\u4e2d\u7f13\u5b58\u6570\u636e\u91cf\u7684\u5927\u5c0f\u6765\u51cf\u5c11\u5e26\u5bbd\u7684\u5360\u7528\uff0c\u8fd9\u4e3b\u8981\u662f\u901a\u8fc7\u7b2c3.2.1\u8282\u5f0f\uff082\uff09\u6765\u5b9e\u73b0\u3002",source:"@site/docs/3-shading/3-light-assignment/index.md",sourceDirName:"3-shading/3-light-assignment",slug:"/shading/light-assignment/",permalink:"/docs/shading/light-assignment/",draft:!1,unlisted:!1,editUrl:"https://github.com/ElvisQin/thegibook/edit/master/website/docs/3-shading/3-light-assignment/index.md",tags:[],version:"current",lastUpdatedBy:"Chunlin Qin",lastUpdatedAt:1704615761,formattedLastUpdatedAt:"Jan 7, 2024",frontMatter:{title:"3.3 \u5149\u6e90\u5206\u914d"},sidebar:"tutorialSidebar",previous:{title:"3.2.1 \u5ef6\u8fdf\u5149\u7167\u8ba1\u7b97",permalink:"/docs/shading/deferred-shading/deferred-lighting"},next:{title:"3.3.1 \u5206\u5757\u7740\u8272",permalink:"/docs/shading/light-assignment/tiled-shading"}},o={},c=[];function l(e){const t={code:"code",p:"p",pre:"pre",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:"\u9488\u5bf9\u5ef6\u8fdf\u7740\u8272\u65b9\u6cd5\u7684\u9ad8\u5e26\u5bbd\u5360\u7528\uff0c\u6211\u4eec\u5728\u4e0a\u4e00\u8282\u4e2d\u4ecb\u7ecd\u4e86\u7b2c\u4e00\u79cd\u65b9\u6cd5\uff0c\u5373\u901a\u8fc7\u51cf\u5c11\u5149\u6e90\u5faa\u73af\u5185\u6bcf\u4e2a\u50cf\u7d20\u8bfb\u5199G-buffer\u4e2d\u7f13\u5b58\u6570\u636e\u91cf\u7684\u5927\u5c0f\u6765\u51cf\u5c11\u5e26\u5bbd\u7684\u5360\u7528\uff0c\u8fd9\u4e3b\u8981\u662f\u901a\u8fc7\u7b2c3.2.1\u8282\u5f0f\uff082\uff09\u6765\u5b9e\u73b0\u3002"}),"\n",(0,i.jsx)(t.p,{children:"\u964d\u4f4e\u5e26\u5bbd\u5360\u7528\u7684\u53e6\uff08\u4e5f\u662f\u6700\u91cd\u8981\u7684\uff09\u4e00\u4e2a\u65b9\u6cd5\u662f\u6539\u53d8\u4f20\u7edf\u5ef6\u8fdf\u7740\u8272\u4e2d\u7684\u5faa\u73af\u7ed3\u6784\uff0c\u4f7f\u50cf\u7d20\u7684\u904d\u5386\u5904\u4e8e\u5916\u5faa\u73af\uff0c\u800c\u5149\u6e90\u7684\u904d\u5386\u5904\u4e8e\u5185\u5faa\u73af\uff0c\u8fd9\u6837\u5c06\u4f7f\u5f97G-buffer\u4e2d\u7684\u6750\u8d28\u53c2\u6570\u53ea\u88ab\u8bfb\u5199\u4e00\u6b21\uff0c\u8c03\u6574\u540e\u7684\u4f2a\u4ee3\u7801\u5982\u4e0b\u6240\u793a\uff1a"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-c++",children:"for each pixel \r\n\tread G-buffer\r\n\tfor each affecting light\r\n\t\tcompute shading\r\n\twrite frame buffer\n"})}),"\n",(0,i.jsx)(t.p,{children:"\u7136\u800c\u8fd9\u6837\u7684\u5faa\u73af\u7ed3\u6784\u8c03\u6574\u5e26\u6765\u4e86\u6e32\u67d3\u6d41\u7a0b\u7684\u5de8\u5927\u53d8\u5316\uff0c\u9996\u5148\uff0c\u6211\u4eec\u4e0d\u80fd\u518d\u4ee5\u4e00\u4e2a\u4e2a\u5149\u6e90\u7684\u5305\u56f4\u76d2\u51e0\u4f55\u4f53\u4e3a\u7ed8\u5236\u5355\u5143\u8fdb\u884c\u7ed8\u5236\uff0c\u800c\u53ea\u80fd\u4f7f\u7528\u4e00\u4e2a\u8986\u76d6\u5168\u5c4f\u533a\u57df\u7684\u56db\u8fb9\u5f62\u8fdb\u884c\u7ed8\u5236\uff0c\u8fd9\u610f\u5473\u7740\u6240\u6709\u5149\u6e90\u7c7b\u578b\u90fd\u5fc5\u987b\u4f7f\u7528\u540c\u4e00\u4e2a\u7740\u8272\u5668\uff0c\u7279\u6b8a\u5149\u6e90\u4e0d\u80fd\u518d\u4f7f\u7528\u72ec\u7acb\u7684\u7740\u8272\u5668\uff0c\u6240\u4ee5\u7740\u8272\u5668\u7684\u7ba1\u7406\u53d8\u5f97\u66f4\u52a0\u590d\u6742\uff0c\u8fd9\u90e8\u5206\u7684\u5185\u5bb9\u53c2\u89c1\u7b2c\uff083.4\uff09\u8282\u3002"}),"\n",(0,i.jsx)(t.p,{children:"\u5176\u6b21\uff0c\u5728\u5904\u7406\u6bcf\u4e2a\u50cf\u7d20\u7684\u65f6\u5019\uff0c\u5fc5\u987b\u77e5\u9053\u6bcf\u4e2a\u50cf\u7d20\u53d7\u54ea\u4e9b\u5149\u6e90\u5f71\u54cd\u3002\u6211\u4eec\u4e0d\u80fd\u4f7f\u7528\u4e00\u4e2a\u5168\u5c40\u7684\u5305\u542b\u5168\u90e8\u5149\u6e90\u7684\u4e00\u4e2a\u5217\u8868\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u5217\u8868\u53ef\u80fd\u5305\u542b\u4e0a\u5343\u4e2a\u5149\u6e90\uff0c\u8fd9\u5c06\u4f1a\u5bfc\u81f4\u5de8\u5927\u7684\u8ba1\u7b97\u8d44\u6e90\u7684\u6d6a\u8d39\u3002\u8003\u8651\u5230\u901a\u5e38\u573a\u666f\u4e2d\u7684\u5c40\u90e8\u533a\u57df\u53ea\u53d7\u5c11\u91cf\u7684\u5149\u6e90\u7684\u7167\u5c04\uff08\u6709\u4e9b\u6e38\u620f\u5f15\u64ce\u8fd8\u4f1a\u9650\u5236\u6bcf\u4e2a\u7269\u4f53\u6216\u8005\u67d0\u4e9b\u533a\u57df\u53d7\u5f71\u54cd\u7684\u6700\u5927\u5149\u6e90\u6570\u91cf\u3002\uff09\uff0c\u6240\u4ee5\u9488\u5bf9\u6bcf\u4e2a\u50cf\u7d20\u70b9\u7684\u5149\u6e90\u5206\u914d\uff08light assignment\uff09\u53d8\u5f97\u975e\u5e38\u91cd\u8981\uff08\u5149\u6e90\u5206\u914d\u53ef\u4ee5\u8bf4\u662f\u5b9e\u65f6\u6e32\u67d3\u975e\u5e38\u91cd\u8981\u7684\u4e00\u4e2a\u8bdd\u9898\uff0c\u73b0\u4ee3\u5f88\u591a\u5177\u6709\u590d\u6742\u573a\u666f\u7684\u6e38\u620f\u5f80\u5f80\u90fd\u6709\u5927\u91cf\u7684\u5404\u79cd\u7c7b\u578b\u7684\u5149\u6e90\uff0c\u5373\u4f7f\u573a\u666f\u4e2d\u6ca1\u6709\u90a3\u4e48\u591a\u771f\u5b9e\u7684\u5149\u6e90\uff0c\u6709\u4e9b\u6e32\u67d3\u6280\u672f\u4e5f\u53ef\u80fd\u5305\u542b\u5927\u91cf\u865a\u62df\u7684\u5149\u6e90\uff08\u4f8b\u5982\u672c\u4e66\u540e\u9762\u5c06\u4f1a\u8bb2\u8ff0\u7684\u5373\u65f6\u8f90\u5c04\u5ea6\u65b9\u6cd5\u5c31\u53ef\u80fd\u5305\u542b\u4e0a\u5343\u4e2a\u865a\u62df\u70b9\u5149\u6e90\uff09\uff0c\u56e0\u6b64\u5149\u6e90\u5206\u914d\u51e0\u4e4e\u662f\u73b0\u4ee3\u6e38\u620f\u5f15\u64ce\u5fc5\u7136\u4f1a\u6d89\u53ca\u7684\u5185\u5bb9\u3002\uff09\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u4f1a\u8ba8\u8bba\u4e24\u79cd\u91cd\u8981\u7684\u5149\u6e90\u5206\u914d\u65b9\u6848\u3002"})]})}function h(e={}){const{wrapper:t}={...(0,s.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},1151:(e,t,n)=>{n.d(t,{Z:()=>d,a:()=>a});var i=n(7294);const s={},r=i.createContext(s);function a(e){const t=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);